
<!doctype html>
<html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Provider Subscribe - 1ClikFix</title>
<link rel="icon" href="/public/favicon.png"><style>body{font-family:Arial,Helvetica,sans-serif;background:#f5f7fb;margin:0} .card{max-width:560px;margin:40px auto;background:#fff;padding:20px;border-radius:10px;box-shadow:0 6px 20px rgba(0,0,0,0.06)}</style></head><body>
<div class="card">
  <img src="/public/logo-full.svg" style="height:56px;display:block;margin:0 auto 12px">
  <h2>Provider Subscription</h2>
  <p>Subscribe to join 1ClikFix providers. $20.99 one-time (demo)</p>
  <label>Full name</label><br><input id="pname" style="width:100%;padding:8px;margin-bottom:8px"><br>
  <label>Email</label><br><input id="pemail" style="width:100%;padding:8px;margin-bottom:8px"><br>
  <label>Skills (comma)</label><br><input id="pskills" style="width:100%;padding:8px;margin-bottom:12px"><br>
  <button onclick="subscribe()" style="background:#ff7a00;color:#fff;padding:10px 14px;border-radius:8px;border:none;cursor:pointer">Subscribe $20.99</button>
</div>
<script>
async function subscribe(){
  const providerId = 'prov_'+Date.now();
  const res = await fetch('/.netlify/functions/createPaymentLink',{
    method:'POST',headers:{'Content-Type':'application/json'},
    body:JSON.stringify({providerId,amountCents:2099})
  });
  const data = await res.json();
  if(data && data.url) window.location.href = data.url;
  else alert('Payment link error: '+JSON.stringify(data));
}
</script>
</body></html>
